<%- include('../partials/head',{title:"Agregar producto"}) %>

<body>
    <header class="header">
        <nav>
            <ul>
                <li><a href="/users/admin">Administrador</a></li>
                <li><a href="/product/list">Lista</a></li>
                
            
        </nav></ul>

        <a href="/">
        <i class="fa-solid fa-person-walking-arrow-right"></i>
        </a>
    </header>
    <main>

    <h1>Area de carga de articulos</h1>

<form action="/product/create" method="POST" enctype="multipart/form-data">
    <div class="form-group">
        <label for="name">Nombre</label>
        <input type="text" name="name" required value="<%= locals.name ? name : "" %>" >
        <% if(locals.errores && locals.errores.name) {%>
            <p> <%= errores.name.msg %></p>
        <% } %>
    </div>
   
    <div class="form-group">
        <label for="description">Descripcion</label>
       <textarea name="description" id="" required value="<%= locals.description ? description : "" %>" ></textarea>
       <% if(locals.errores && locals.errores.description) {%>
        <p><%= errores.description.msg %></p>
    <% } %>
    </div>
    <div class="form-group">
        <label for="image">Imagen</label>
        <input type="file" name="image" accept=".jpg, .jpeg, .png" required value="<% locals.image ? image :"" %>" >
        <% if(locals.errores && locals.errores.image) {%>
            <p> <%= errores.image.msg %></p>
        <% } %>
    </div>

    <div class="form-group">
        <label for="brandId">Marca</label>
        <select name="brandId" id="brandId" required value="<%= locals.brandId ? brandId : "" %>">
           
            <option value="" hidden selected>Seleccione...</option>  
            <% brands.forEach(b => { %>
                <option value="<%= b.id %>"><%= b.name %></option>
            <% }) %>
          
        </select>
    </div>

    <div class="form-group">
        <label for="categoryId">Categoria</label>
        <select name="categoryId" id="categoryId" required value="<%= locals.categoryId ? categoryId : "" %>" >
           
            <option value="" hidden selected>Seleccione...</option>
            <% categories.forEach(c => { %>
                <option value="<%= c.id %>"><%= c.name %></option>
            <% }) %>
 

        </select>

    </div>

    <div class="form-group">
        <label for="price">Precio</label>
        <input type="text" name="price" required value="<%= locals.price ? price : "" %>" >
        <% if(locals.errores && locals.errores.price) {%>
            <p> <%= errores.price.msg %></p>
        <% } %>
    </div>
<div class="boton_create">
    <button type="submit"> Cargar</button>
</div>
</form>
    </main>
    <footer class="footer">
        <p>AIRE LIBRE.....Vive tu propia aventura!!!!!</p>
            </footer>
</body>
</html>